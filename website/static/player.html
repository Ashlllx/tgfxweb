<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>在线预览</title>
    <link
      rel="icon"
      href="https://pag.qq.com/img/favicon/favicon.ico"
      type="image/x-icon"
    />
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      .player {
        position: relative;
        width: 100vw;
        height: 100vh;
      }
      .box {
        position: absolute;
        width: 960px;
        height: 540px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        pointer-events: none;
      }
      .zebra {
        background-color: #eee;
        background-image: linear-gradient(45deg, #bbb 25%, transparent 0),
          linear-gradient(45deg, transparent 75%, #bbb 0),
          linear-gradient(45deg, #bbb 25%, transparent 0),
          linear-gradient(45deg, transparent 75%, #bbb 0);
        background-position: 0 0, 15px 15px, 15px 15px, 30px 30px;
        background-size: 30px 30px;
      }
      .background-black {
        background-color: #000;
      }
      .tip {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #757575;
        font-size: 24px;
        pointer-events: none;
      }
      .tip .text {
        margin-top: 24px;
      }
      .canvas {
        width: 100%;
        height: 100%;
        pointer-events: none;
      }
      .upload {
        display: none;
      }
      .performance-btn {
        position: absolute;
        top: 8px;
        left: 8px;
        width: 36px;
        height: 36px;
        padding: 0;
        border: 0;
        background: transparent;
      }
      .performance-icon {
        width: 100%;
        height: 100%;
        fill: #585858;
      }
      .performance {
        position: absolute;
        top: 8px;
        left: 8px;
        min-width: 200px;
        height: 124px;
        background: #fff;
        border: #bbb 1px solid;
        border-radius: 4px;
        opacity: 0.6;
        padding: 8px 8px;
        box-sizing: border-box;
      }
      .performance p {
        font-size: 12px;
        margin: 0;
        line-height: 8px;
      }
      .background-btn {
        position: absolute;
        bottom: 8px;
        right: 8px;
        width: 36px;
        height: 36px;
        padding: 0;
        border: 0;
        background: transparent;
      }
      .background-icon {
        width: 100%;
        height: 100%;
        fill: #585858;
      }
      .translate {
        visibility: hidden;
      }
      .translated {
        visibility: visible;
      }
    </style>
  </head>
  <body>
    <div class="player" id="player">
      <div class="box" id="box">
        <div class="tip" id="tip">
          <img
            src="https://pag.qq.com/img/pagfile.png"
            alt="icon"
            width="128"
            height="128"
          />
          <p class="translate" class="text" data-translate-id="uploadOrDropPAG">Click to upload or drag and drop a PAG file here to preview</p>
        </div>
      </div>
      <canvas class="canvas" id="canvas"></canvas>
      <input type="file" class="upload" id="upload" accept=".pag" />
      <button
        class="performance-btn"
        id="performance-btn"
        style="display: none"
      >
        <svg
          t="1660116935264"
          class="performance-icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="2276"
          width="200"
          height="200"
        >
          <path
            d="M509.92 795.84c157.904 0 285.92-128.016 285.92-285.92C795.84 352 667.808 224 509.92 224 352 224 224 352 224 509.92c0 157.904 128 285.92 285.92 285.92z m0 48C325.504 843.84 176 694.32 176 509.92 176 325.504 325.504 176 509.92 176c184.416 0 333.92 149.504 333.92 333.92 0 184.416-149.504 333.92-333.92 333.92z m-2.448-400.704h16a16 16 0 0 1 16 16v201.728a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16V459.136a16 16 0 0 1 16-16z m0-100.176h16a16 16 0 0 1 16 16v23.648a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16v-23.648a16 16 0 0 1 16-16z"
            p-id="2277"
          ></path>
        </svg>
      </button>
      <button class="background-btn" id="background-btn" style="display: none">
        <svg
          t="1672885015824"
          class="background-icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="3763"
          width="200"
          height="200"
        >
          <path
            d="M769.8432 344.2688h-90.3168V253.952c0-48.7424-39.5264-88.2688-88.2688-88.2688H254.1568C205.4144 165.888 165.888 205.4144 165.888 254.1568v337.3056c0 48.7424 39.5264 88.2688 88.2688 88.2688h90.3168V770.048c0 48.7424 39.5264 88.2688 88.2688 88.2688H770.048c48.7424 0 88.2688-39.5264 88.2688-88.2688V432.5376c-0.2048-48.7424-39.7312-88.2688-88.4736-88.2688z m30.5152 425.5744c0 16.7936-13.7216 30.5152-30.5152 30.5152H432.5376c-16.7936 0-30.5152-13.7216-30.5152-30.5152v-90.3168h189.44c48.7424 0 88.2688-39.5264 88.2688-88.2688v-189.44H770.048c16.7936 0 30.5152 13.7216 30.5152 30.5152v337.5104z"
            p-id="3764"
          ></path>
        </svg>
      </button>
      <div class="performance" id="performance" style="display: none">
        <p class="translate" style="font-weight: bold" data-translate-id="pagPerformanceMetrics"></p>
        <p id="performance-box">PAG Performance Metrics </p>
      </div>
    </div>
    <script type="module" src="https://pag.io/wasm/mt/libpag.umd.js"></script>
    <script src="./player.js"></script>
  </body>
</html>
